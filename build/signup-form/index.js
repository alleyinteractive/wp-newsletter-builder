!function(){"use strict";var e={n:function(t){var l=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(l,{a:l}),l},d:function(t,l){for(var n in l)e.o(l,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:l[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.React,l=window.wp.blocks,n=window.wp.blockEditor,r=window.wp.i18n,i=window.wp.components,s=window.wp.element,a=window.wp.apiFetch,o=e.n(a);function c(e){let{selected:l,updateFunction:n}=e;const[a,c]=(0,s.useState)([]),u=a.length>0?(e=>{const t=e.map((e=>({label:e.Name,value:e.ListID})));return t.unshift({label:(0,r.__)("Select a list","wp-newsletter-builder"),value:""}),t})(a):[];return(0,s.useEffect)((()=>{a.length>0||o()({path:"/wp-newsletter-builder/v1/lists"}).then((e=>{c(e)}))}),[a]),(0,t.createElement)(i.SelectControl,{value:l,options:u,onChange:n})}var u=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"wp-newsletter-builder/signup-form","version":"0.1.0","title":"Newsletter Signup Form","category":"widgets","icon":"forms","description":"Shows a form to allow users to subscribe to newsletter lists","textdomain":"wp-newsletter-builder","editorScript":"file:index.ts","editorStyle":"file:index.css","style":["file:style-index.css"],"render":"file:render.php","viewScript":["file:view.ts"],"attributes":{"headerText":{"type":"string"},"subheaderText":{"type":"string"},"disclaimerText":{"type":"string"},"buttonText":{"type":"string"},"listId":{"type":"string"}}}');(0,l.registerBlockType)(u,{edit:function(e){let{attributes:{headerText:l,subheaderText:s="",disclaimerText:a="",buttonText:o,listId:u},setAttributes:d}=e;return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{...(0,n.useBlockProps)()},(0,t.createElement)("div",{className:"wp-block-wp-newsletter-builder-signup-form__header"},(0,t.createElement)("div",null,(0,t.createElement)(n.RichText,{tagName:"h2",value:l,onChange:e=>d({headerText:e}),placeholder:(0,r.__)("Header Text","wp-newsletter-builder")}),(0,t.createElement)(n.RichText,{tagName:"div",value:s,className:"wp-block-wp-newsletter-builder-signup-form__subheader",onChange:e=>d({subheaderText:e}),placeholder:(0,r.__)("Subheader Text","wp-newsletter-builder")})),(0,t.createElement)("div",null,(0,t.createElement)("div",null,(0,t.createElement)("span",{className:"wp-block-wp-newsletter-builder-signup-form__fake-text-input wp-block-wp-newsletter-builder-signup-form__email-input"},(0,r.__)("Email","wp-newsletter-builder"))),(0,t.createElement)(n.RichText,{tagName:"div",value:a,className:"wp-block-wp-newsletter-builder-signup-form__disclaimer",onChange:e=>d({disclaimerText:e}),placeholder:(0,r.__)("Disclaimer Text","wp-newsletter-builder")}),(0,t.createElement)("div",{className:"wp-block-button is-style-subscribe"},(0,t.createElement)("div",{className:"wp-block-wp-newsletter-builder-signup-form__fake-button wp-block-button__link wp-element-button"},(0,t.createElement)(n.RichText,{tagName:"span",value:o,onChange:e=>d({buttonText:e}),placeholder:(0,r.__)("Button Text","wp-newsletter-builder")}))))),u?null:(0,t.createElement)(n.InnerBlocks,{allowedBlocks:["wp-newsletter-builder/signup-form-list"]})),(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(i.PanelBody,{title:(0,r.__)("List Settings","wp-newsletter-builder")},(0,t.createElement)(i.PanelRow,null,(0,t.createElement)(c,{selected:null!=u?u:"",updateFunction:e=>d({listId:e})})))))},save:()=>{const e=n.useBlockProps.save();return(0,t.createElement)("div",{...e},(0,t.createElement)(n.InnerBlocks.Content,null))}})}();