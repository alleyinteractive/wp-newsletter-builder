!function(){"use strict";var e={n:function(t){var l=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(l,{a:l}),l},d:function(t,l){for(var n in l)e.o(l,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:l[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.blocks,l=window.wp.element,n=window.wp.i18n,i=window.wp.data,r=window.wp.components,o=window.wp.blockEditor,a=window.wp.apiFetch,s=e.n(a);function c(e){let{selected:t,updateFunction:i}=e;const[o,a]=(0,l.useState)([]),c=o.length>0?(e=>{const t=e.map((e=>({label:e.Name,value:e.ListID})));return t.unshift({label:(0,n.__)("Select a list","newsletter-builder"),value:""}),t})(o):[];return(0,l.useEffect)((()=>{o.length>0||s()({path:"/newsletter-builder/v1/lists"}).then((e=>{a(e)}))}),[o]),(0,l.createElement)(r.SelectControl,{value:t,options:c,onChange:i})}var u=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"newsletter-builder/signup-form-list","version":"0.1.0","title":"Newsletter Signup Form List","category":"widgets","icon":"yes","description":"Child block of Newsletter Signup Form to show a single list","textdomain":"newsletter-builder","editorScript":"file:index.ts","render":"file:render.php","attributes":{"logo":{"type":"number","default":0},"title":{"type":"string"},"frequency":{"type":"string"},"description":{"type":"string"},"listId":{"type":"string"},"initialChecked":{"type":"boolean","default":false}}}');(0,t.registerBlockType)(u,{apiVersion:2,edit:function(e){let{attributes:{logo:t=0,title:a="",frequency:s="",description:u="",listId:d="",initialChecked:p=!1},setAttributes:m}=e;const{logoMedia:w=null}=(0,i.useSelect)((e=>({logoMedia:t?e("core").getMedia(t):null})),[t]);return(0,l.createElement)("div",(0,o.useBlockProps)(),w?(0,l.createElement)(l.Fragment,null,(0,l.createElement)(r.Button,{type:"button",onClick:()=>m({logo:null}),"aria-label":(0,n.__)("Remove Logo","newsletter-builder"),isDestructive:!0,variant:"primary",className:"wp-block-newsletter-builder-signup-form-list__image_delete"},"X"),(0,l.createElement)("img",{src:w.media_details?.sizes?.medium?.source_url||w.source_url,alt:(0,n.__)("Newsletter Logo","newsletter-builder")})):(0,l.createElement)(o.MediaPlaceholder,{icon:"format-image",labels:{title:(0,n.__)("Image","newsletter-builder"),instructions:(0,n.__)("Drag an image, upload a new one or select a file from your library.","newsletter-builder")},onSelect:e=>m({logo:e.id}),accept:"image/*",allowedTypes:["image"]}),(0,l.createElement)("div",{className:"wp-block-newsletter-builder-signup-form-list__content"},(0,l.createElement)(o.RichText,{tagName:"h3",value:a,onChange:e=>m({title:e}),placeholder:(0,n.__)("Title","newsletter-builder")}),(0,l.createElement)(o.RichText,{tagName:"div",value:s,className:"wp-block-newsletter-builder-signup-form-list__frequency",onChange:e=>m({frequency:e}),placeholder:(0,n.__)("Frequency","newsletter-builder")}),(0,l.createElement)(o.RichText,{tagName:"div",value:u,className:"wp-block-newsletter-builder-signup-form-list__description",onChange:e=>m({description:e}),placeholder:(0,n.__)("Description","newsletter-builder")}),(0,l.createElement)(r.CheckboxControl,{checked:p,onChange:e=>m({initialChecked:e})})),(0,l.createElement)(o.InspectorControls,null,(0,l.createElement)(r.PanelBody,{title:(0,n.__)("List Settings","newsletter-builder")},(0,l.createElement)(r.PanelRow,null,(0,l.createElement)(c,{selected:d,updateFunction:e=>m({listId:e})})))))},title:u.title})}();