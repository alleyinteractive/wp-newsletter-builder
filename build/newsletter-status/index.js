!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var l in n)e.o(n,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:n[l]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.plugins,n=window.React,l=window.wp.element,r=window.wp.editPost,a=window.wp.i18n,i=window.wp.data,u=window.wp.components;function s(){return(0,n.createElement)(u.Spinner,null)}var c=window.wp.apiFetch,d=e.n(c);(0,t.registerPlugin)("newsletter-status",{render:function(){const e=(0,i.select)("core/editor").getCurrentPostId(),{stats:t,fetching:c,fetchStats:w,validStats:o}=function(e){const[t,n]=(0,l.useState)({}),[r,a]=(0,l.useState)(!1),i=(0,l.useCallback)((async()=>{a(!0);const t=await d()({path:`/wp-newsletter-builder/v1/status/${e}`});n(t),a(!1)}),[e]);return(0,l.useEffect)((()=>{i()}),[i]),{validStats:t.Status&&t.Name,stats:t,fetching:r,fetchStats:i}}(e),{Status:p="",Name:m="",Recipients:_="",TotalOpened:b="",UniqueOpened:f=""}=t;return o||c?(0,n.createElement)(r.PluginDocumentSettingPanel,{name:"rubric-selection",title:(0,a.__)("Newsletter Stats","wp-newsletter-builder")},o?(0,n.createElement)(n.Fragment,null,(0,n.createElement)("dl",null,(0,n.createElement)("dt",null,(0,a.__)("Status","wp-newsletter-builder")),(0,n.createElement)("dd",null,p),(0,n.createElement)("dt",null,(0,a.__)("Campaign Name","wp-newsletter-builder")),(0,n.createElement)("dd",null,m),(0,n.createElement)("dt",null,(0,a.__)("Recipients","wp-newsletter-builder")),(0,n.createElement)("dd",null,_),(0,n.createElement)("dt",null,(0,a.__)("Total Opened","wp-newsletter-builder")),(0,n.createElement)("dd",null,b),(0,n.createElement)("dt",null,(0,a.__)("Unique Opened","wp-newsletter-builder")),(0,n.createElement)("dd",null,f)),(0,n.createElement)(u.Button,{onClick:w,variant:"secondary",disabled:c},(0,a.__)("Refresh","wp-newsletter-builder"))):(0,n.createElement)(s,null)):(0,n.createElement)(r.PluginDocumentSettingPanel,{name:"rubric-selection",title:(0,a.__)("Newsletter Stats","wp-newsletter-builder")},(0,n.createElement)("p",null,(0,a.__)("Newsletter stats not available. Try clicking the Refresh button.","wp-newsletter-builder")),(0,n.createElement)(u.Button,{onClick:w,variant:"secondary",disabled:c},(0,a.__)("Refresh","wp-newsletter-builder")))}})}();